{% extends "layout.html" %}

{% block content %}
<div>
    <div>
        <h3>My Profile Page</h3>
        <br><br>
        <h4>Full Name: {{ user.fullname }}</h4>
        <h4>User Name: {{ user.username }}</h4>
        <h4>Email Address: {{ user.email }}</h4>
        <h4>Joined On : <time data-time="{{ user.joined_at }}" class="distime" datetime="{{ user.joined_at.strftime('%Y-%m-%d') }}">{{ user.joined_at.strftime('%Y-%m-%d') }}</time></h4>
        <!-- <h4>You have created : {{posts.count()}} posts</h4> -->
        <a href={{url_for('edit_user', username=user.username)}}><button class="btn btn-dark">Update </button></a>
    </div>
    <div>
    <br><br>
    <br><br>
    <h5 class="post-title">My Posts</h5>

    {% if posts %}    
    {% for post in posts %}
    <article class="message-body">
        <br><br>
        <div>
            <a href={{url_for('posts', id=post.id)}}>{{post.title}}</a>
        </div>
        <div>
            {{post.text}}
        </div>
        <a href={{url_for('edit_post', postid=post.id)}}><button class="btn btn-dark">Edit</button></a>
        <a href={{url_for('delete_post', postid=post.id)}}><button class="btn btn-danger">Delete</button></a>
    </article>
    {% endfor %}
    {% endif %}
    </div>
</div>

{% endblock %}